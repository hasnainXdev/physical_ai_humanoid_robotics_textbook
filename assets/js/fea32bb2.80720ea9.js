"use strict";(globalThis.webpackChunkphysical_ai_book=globalThis.webpackChunkphysical_ai_book||[]).push([[5780],{5836:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>s,contentTitle:()=>c,default:()=>h,frontMatter:()=>r,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"module1-ros2/04-launch-files","title":"ROS 2 Launch Files","description":"1. Introduction to ROS 2 Launch Files","source":"@site/docs/module1-ros2/04-launch-files.mdx","sourceDirName":"module1-ros2","slug":"/module1-ros2/04-launch-files","permalink":"/physical_ai_humanoid_robotics_textbook/docs/module1-ros2/04-launch-files","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/module1-ros2/04-launch-files.mdx","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"id":"04-launch-files","title":"ROS 2 Launch Files","sidebar_label":"Launch Files"},"sidebar":"tutorialSidebar","previous":{"title":"Pub/Sub with rclpy","permalink":"/physical_ai_humanoid_robotics_textbook/docs/module1-ros2/pub-sub-rclpy"},"next":{"title":"URDF Modeling","permalink":"/physical_ai_humanoid_robotics_textbook/docs/module1-ros2/05-urdf-modeling"}}');var t=a(4848),l=a(8453);a(3457);const r={id:"04-launch-files",title:"ROS 2 Launch Files",sidebar_label:"Launch Files"},c=void 0,s={},o=[{value:"1. Introduction to ROS 2 Launch Files",id:"1-introduction-to-ros-2-launch-files",level:2},{value:"Key Concepts",id:"key-concepts",level:3},{value:"2. Creating a Simple Launch File",id:"2-creating-a-simple-launch-file",level:2},{value:"Step 1: Create a Package",id:"step-1-create-a-package",level:3},{value:"Step 2: Create the Launch File",id:"step-2-create-the-launch-file",level:3},{value:"Step 3: Build and Run the Launch File",id:"step-3-build-and-run-the-launch-file",level:3},{value:"3. Launching Multiple Nodes",id:"3-launching-multiple-nodes",level:2},{value:"4. Using Arguments and Parameters",id:"4-using-arguments-and-parameters",level:2},{value:"Launch Arguments",id:"launch-arguments",level:3},{value:"Node Parameters",id:"node-parameters",level:3},{value:"5. Advanced Launch File Concepts",id:"5-advanced-launch-file-concepts",level:2},{value:"Remapping Topics",id:"remapping-topics",level:3},{value:"Including Other Launch Files",id:"including-other-launch-files",level:3},{value:"Conclusion",id:"conclusion",level:2}];function u(e){const n={code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h2,{id:"1-introduction-to-ros-2-launch-files",children:"1. Introduction to ROS 2 Launch Files"}),"\n",(0,t.jsx)(n.p,{children:"In ROS 2, managing a complex system with multiple nodes can be cumbersome if you have to run each node in a separate terminal. ROS 2 launch files provide a powerful and flexible way to start and configure multiple nodes and their parameters from a single file. This simplifies the process of running a complete robotics application and makes your system more organized and reproducible."}),"\n",(0,t.jsx)(n.p,{children:"Launch files in ROS 2 are Python scripts, which gives you the full power of the Python programming language to create complex and dynamic launch configurations."}),"\n",(0,t.jsx)(n.h3,{id:"key-concepts",children:"Key Concepts"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Package"}),": A container for your ROS 2 code, including nodes, launch files, and other resources."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Node"}),": A single, executable process in a ROS 2 system that performs a specific task."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Executable"}),": The compiled code that a node runs."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Topic"}),": A named bus over which nodes exchange messages."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Service"}),": A request/response communication paradigm between nodes."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Action"}),": A long-running, goal-oriented communication paradigm."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Parameter"}),": A configurable value that a node can use to modify its behavior."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"2-creating-a-simple-launch-file",children:"2. Creating a Simple Launch File"}),"\n",(0,t.jsx)(n.p,{children:"Let's create a basic launch file that starts a single ROS 2 node."}),"\n",(0,t.jsx)(n.h3,{id:"step-1-create-a-package",children:"Step 1: Create a Package"}),"\n",(0,t.jsx)(n.p,{children:"First, make sure you have a ROS 2 package. If you don't have one, you can create one with the following command:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"ros2 pkg create --build-type ament_python my_robot_launch\n"})}),"\n",(0,t.jsx)(n.h3,{id:"step-2-create-the-launch-file",children:"Step 2: Create the Launch File"}),"\n",(0,t.jsxs)(n.p,{children:["Inside your package, create a new directory called ",(0,t.jsx)(n.code,{children:"launch"}),". In this directory, create a Python file named ",(0,t.jsx)(n.code,{children:"my_first_launch.py"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"from launch import LaunchDescription\nfrom launch_ros.actions import Node\n\ndef generate_launch_description():\n    return LaunchDescription([\n        Node(\n            package='turtlesim',\n            executable='turtlesim_node',\n            name='my_turtlesim'\n        ),\n    ])\n"})}),"\n",(0,t.jsxs)(n.p,{children:["This launch file imports the necessary modules and defines a ",(0,t.jsx)(n.code,{children:"generate_launch_description"})," function. This function returns a ",(0,t.jsx)(n.code,{children:"LaunchDescription"})," object, which contains a list of actions to be executed. In this case, we have a single ",(0,t.jsx)(n.code,{children:"Node"})," action that starts the ",(0,t.jsx)(n.code,{children:"turtlesim_node"})," from the ",(0,t.jsx)(n.code,{children:"turtlesim"})," package."]}),"\n",(0,t.jsx)(n.h3,{id:"step-3-build-and-run-the-launch-file",children:"Step 3: Build and Run the Launch File"}),"\n",(0,t.jsxs)(n.p,{children:["To run the launch file, you need to build your package and then use the ",(0,t.jsx)(n.code,{children:"ros2 launch"})," command:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"colcon build --packages-select my_robot_launch\nsource install/setup.bash\nros2 launch my_robot_launch my_first_launch.py\n"})}),"\n",(0,t.jsx)(n.p,{children:"You should see the turtlesim window appear."}),"\n",(0,t.jsx)(n.h2,{id:"3-launching-multiple-nodes",children:"3. Launching Multiple Nodes"}),"\n",(0,t.jsxs)(n.p,{children:["The real power of launch files comes from their ability to launch multiple nodes. Let's create a launch file that starts both the ",(0,t.jsx)(n.code,{children:"turtlesim_node"})," and the ",(0,t.jsx)(n.code,{children:"turtle_teleop_key"})," node."]}),"\n",(0,t.jsxs)(n.p,{children:["Create a new launch file named ",(0,t.jsx)(n.code,{children:"turtlesim_app_launch.py"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"from launch import LaunchDescription\nfrom launch_ros.actions import Node\n\ndef generate_launch_description():\n    return LaunchDescription([\n        Node(\n            package='turtlesim',\n            executable='turtlesim_node',\n            name='turtlesim_node'\n        ),\n        Node(\n            package='turtlesim',\n            executable='turtle_teleop_key',\n            name='turtle_teleop_key'\n        ),\n    ])\n"})}),"\n",(0,t.jsx)(n.p,{children:"Now, when you run this launch file, both nodes will be started, and you can control the turtle with your keyboard."}),"\n",(0,t.jsx)(n.h2,{id:"4-using-arguments-and-parameters",children:"4. Using Arguments and Parameters"}),"\n",(0,t.jsx)(n.p,{children:"Launch files can also be used to pass arguments and set parameters for your nodes."}),"\n",(0,t.jsx)(n.h3,{id:"launch-arguments",children:"Launch Arguments"}),"\n",(0,t.jsx)(n.p,{children:"Launch arguments are variables that you can pass to a launch file from the command line. This is useful for making your launch files more flexible."}),"\n",(0,t.jsx)(n.p,{children:"Here's an example of how to use a launch argument to set the name of the turtlesim node:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"from launch import LaunchDescription\nfrom launch.actions import DeclareLaunchArgument\nfrom launch.substitutions import LaunchConfiguration\nfrom launch_ros.actions import Node\n\ndef generate_launch_description():\n    turtle_name_arg = DeclareLaunchArgument(\n        'turtle_name',\n        default_value='my_turtle',\n        description='Name of the turtle'\n    )\n\n    return LaunchDescription([\n        turtle_name_arg,\n        Node(\n            package='turtlesim',\n            executable='turtlesim_node',\n            name=LaunchConfiguration('turtle_name')\n        ),\n    ])\n"})}),"\n",(0,t.jsx)(n.p,{children:"You can then run this launch file with a custom turtle name:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"ros2 launch my_robot_launch my_configurable_launch.py turtle_name:=shelly\n"})}),"\n",(0,t.jsx)(n.h3,{id:"node-parameters",children:"Node Parameters"}),"\n",(0,t.jsxs)(n.p,{children:["Node parameters are used to configure the behavior of a node. You can set parameters in a launch file using the ",(0,t.jsx)(n.code,{children:"parameters"})," argument of the ",(0,t.jsx)(n.code,{children:"Node"})," action."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"from launch import LaunchDescription\nfrom launch_ros.actions import Node\n\ndef generate_launch_description():\n    return LaunchDescription([\n        Node(\n            package='turtlesim',\n            executable='turtlesim_node',\n            name='my_turtlesim',\n            parameters=[\n                {'background_r': 255},\n                {'background_g': 0},\n                {'background_b': 0},\n            ]\n        ),\n    ])\n"})}),"\n",(0,t.jsx)(n.p,{children:"This launch file will start the turtlesim node with a red background."}),"\n",(0,t.jsx)(n.h2,{id:"5-advanced-launch-file-concepts",children:"5. Advanced Launch File Concepts"}),"\n",(0,t.jsx)(n.h3,{id:"remapping-topics",children:"Remapping Topics"}),"\n",(0,t.jsx)(n.p,{children:"You can remap topic names in a launch file to connect nodes in different ways."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"from launch import LaunchDescription\nfrom launch_ros.actions import Node\n\ndef generate_launch_description():\n    return LaunchDescription([\n        Node(\n            package='turtlesim',\n            executable='turtlesim_node',\n            name='turtlesim1'\n        ),\n        Node(\n            package='turtlesim',\n            executable='turtlesim_node',\n            name='turtlesim2'\n        ),\n        Node(\n            package='turtlesim',\n            executable='turtle_teleop_key',\n            name='teleop',\n            remappings=[\n                ('/turtle1/cmd_vel', '/turtlesim2/cmd_vel')\n            ]\n        ),\n    ])\n"})}),"\n",(0,t.jsxs)(n.p,{children:["In this example, the ",(0,t.jsx)(n.code,{children:"turtle_teleop_key"})," node's commands are remapped to control the second turtlesim node."]}),"\n",(0,t.jsx)(n.h3,{id:"including-other-launch-files",children:"Including Other Launch Files"}),"\n",(0,t.jsx)(n.p,{children:"You can include other launch files within your launch file to create modular and reusable launch configurations."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"from launch import LaunchDescription\nfrom launch.actions import IncludeLaunchDescription\nfrom launch.launch_description_sources import PythonLaunchDescriptionSource\nfrom ament_index_python.packages import get_package_share_directory\nimport os\n\ndef generate_launch_description():\n    my_package_dir = get_package_share_directory('my_robot_launch')\n\n    return LaunchDescription([\n        IncludeLaunchDescription(\n            PythonLaunchDescriptionSource(\n                os.path.join(my_package_dir, 'my_first_launch.py')\n            )\n        )\n    ])\n"})}),"\n",(0,t.jsx)(n.p,{children:"This allows you to build complex launch systems from smaller, more manageable pieces."}),"\n",(0,t.jsx)(n.h2,{id:"conclusion",children:"Conclusion"}),"\n",(0,t.jsx)(n.p,{children:"ROS 2 launch files are an essential tool for managing complex robotics applications. They allow you to start, configure, and connect multiple nodes in a structured and reproducible way. By mastering launch files, you can significantly improve your ROS 2 development workflow."})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(u,{...e})}):u(e)}}}]);